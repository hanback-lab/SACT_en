# Digital Comparator
---
## Theory

Comparator is a circuit that compares two numbers.

This is a circuit that compares the values of two input data (A, B) and displays data indicating that the two data are equal (EQ) or that the value of A is greater (LA: Large A) or the value of B is greater (LB: Large B).

<br>
<img src="./pds/cmp01.png" alt="p01" style="width: 70%;"><br>

<br>

Truth table for 1-bit comparator is as below.

1-bit comparator
|A|B||EQ(A=B)|LA(A>B)|LB(A<B)|
|:---:|:---:|:---:|:---:|:---:|:---:|
|0|0||1|0|0|
|0|1||0|0|1|
|1|0||0|1|0|
|1|1||1|0|0|

<br>

Extending this to represent 2-bit comparator as a truth table is as below.

|A[1..0]|B[1..0]||EQ(A=B)|LA(A>B)|LB(A<B)|
|:---:|:---:|:---:|:---:|:---:|:---:|
|00|00||1|0|0|
|00|01||0|0|1|
|00|10||0|0|1|
|00|11||0|0|1|
|01|00||0|1|0|
|01|01||1|0|0|
|01|10||0|0|1|
|01|11||0|0|1|
|10|00||0|1|0|
|10|01||0|1|0|
|10|10||1|0|0|
|10|11||0|0|1|
|11|00||0|1|0|
|11|01||0|1|0|
|11|10||0|1|0|
|11|11||1|0|0|

<br>

---
## Practice Objectives

Let's design and experiment with the circuit below.

<br>

<img src="./pds/cmp03.png" alt="p03" style="width: 90%;">


<br>

Operational truth table for this circuit is as below.

|A[1..0]|B[1..0]||EQ(A=B)|LA(A>B)|LB(A<B)|
|:---:|:---:|:---:|:---:|:---:|:---:|
|00|00||1|0|0|
|00|01||0|0|1|
|00|10||0|0|1|
|00|11||0|0|1|
|01|00||0|1|0|
|01|01||1|0|0|
|01|10||0|0|1|
|01|11||0|0|1|
|10|00||0|1|0|
|10|01||0|1|0|
|10|10||1|0|0|
|10|11||0|0|1|
|11|00||0|1|0|
|11|01||0|1|0|
|11|10||0|1|0|
|11|11||1|0|0|




<br>

Devices connected to check in SACT equipment are as below.

|A[1]|A[0]|B[1]|B[0]|EQ|LA|LB|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|S7|S6|S5|S4|LED7|LED6|LED5|

<img src="./pds/sact-cmp.png" alt="sact-cmp" style="width: 60%;">

<br>



### Design

1. Prepare project file <a href="./pds/COMP2.zip" download>COMP2.zip</a> for the experiment. 
<br>

2. Move the project compressed file downloaded to d:\work and unzip it.

3. Run Quartus II and select File > Open Project.

<img src="./pds/ex01.png" alt="ex01" style="width: 40%;"><br>

4. Go to d:＼work＼COMP2 folder, where the files are unzipped, and open COMP2 project.

<br>

5. Select File > Open to import COMP2.bdf file. Or double-click COMP2 on the left side of the project.

<br>

6. Unfinished drawing is shown. Let's complete it with the drawing described before.

<br>

<img src="./pds/cmp05.png" alt="p05" style="width: 70%;"><br>

<img src="./pds/cmp03.png" alt="p01" style="width: 80%;"><br>

7. Import symbols of xor, or2, nor2, and2, and3, and connect the symbols with wire to complete the circuit.

<img src="./pds/cmp08.png" alt="p08" style="width: 100%;"><br>
<br>


### Compile


8. Select File > Save and save, and select Processing > Start Compilation to compile.

Compilation is process to verify that there are no errors in the designed logic circuit and create programming file and simulation file.

<br><br>


### Simulation

9. Select File > Open, and change File Type to All Files (.) in Open File window in the lower right corner, then select Waveform.vwf file.

10. In Waveform window, select Simulation > Run Functional Simulation to run it.

<img src="./pds/ex10.png" alt="p11" style="width: 70%;"><br>

<img src="./pds/com10.png" alt="p10" style="width: 80%;"><br>
<br>

### Check Hardware Operation

11. Prepare SACT equipment. Connect USB cable and power cable and press the power switch to supply power to the device.

12. In Quartus software, select Tool > Programmer.

13. Check that USB Blaster is connected in Hardware Setup on Programmer window. Press Start button to program to check the operation on the device.

<br>

14. Operate the slide switch, button switch and check operation of Comparator on LED.

Devices connected to check in SACT equipment are as below.

|A[1]|A[0]|B[1]|B[0]|EQ|LA|LB|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|S7|S6|S5|S4|LED7|LED6|LED5|

<img src="./pds/sact-cmp.png" alt="sact-cmp" style="width: 60%;">

<br>









