# Half Subtractor
---
## Theory

Half subtractor is a circuit that subtracts two bits of one binary digit and outputs the difference.

Half subtractor is a logic circuit that calculates the difference (Difference, D) and the number of borrowing (Borrow, B) by subtracting B from the binary A of one bit. The following shows the truth table of half subtractor.

<br>

Truth table of half subtractor is as below.

|A|B||D|BO|
|:---:|:---:|:---:|:---:|:---:|
|0|0||0|0|
|0|1||1|1|
|1|0||1|0|
|1|1||0|0|

<br>

Half subtractor can be implemented using a combination of XOR gate, AND gate and NOT gate as below.

<br>
<img src="./pds/hs01.png" alt="p01" style="width: 50%;"><br>

<br>

---
## Practice Objectives 

Let's design and experiment with the circuit below.

<br>

<img src="./pds/hs03.png" alt="p03" style="width: 80%;">


<br>

Operational truth table is as below.

|A|B||D|BO|
|:---:|:---:|:---:|:---:|:---:|
|0|0||0|0|
|0|1||1|1| 
|1|0||1|0|
|1|1||0|0|



<br>

Devices connected to check in SACT equipment are as below.

|A|B|D|BO|
|:---:|:---:|:---:|:---:|
|SW7|SW6|LED7|LED6|

<img src="./pds/sact-ha.png" alt="sact-ha" style="width: 60%;">

<br>



### Design 

1. Prepare project file <a href="./pds/HS.zip" download>HS.zip</a> for the experiment. 
<br>

2. Move the project compressed file downloaded to d:＼work and unzip it.

3. Run Quartus II and select File > Open Project.

<br>

4. Go to d:＼work＼HS folder, where the files are unzipped, and open HS project.

<br>

5. Select File > Open to import HS.bdf file. Or double-click HS on the left side of the project.

<br>

6. Unfinished drawing is shown. Let's complete it with the drawing described before.

<br>

<img src="./pds/hs05.png" alt="p05" style="width: 80%;"><br>

<img src="./pds/hs03.png" alt="p01" style="width: 80%;"><br>

7. Double-click the drawing as shown below, or right-click the mouse and select Insert > Symbol.

<br>

8. Complete the circuit by importing “xor”, “and2" symbol in the symbol window and connecting them with wire. 

<img src="./pds/hs06.png" alt="p08" style="width: 80%;"><br>

<br>



### Compile

9. Select File > Save and save, and select Processing > Start Compilation to compile.

Compilation is process to verify that there are no errors in the designed logic circuit and create programming file and simulation file.

<br><br>


### Simulation

10. Select File > Open, and change File Type to All Files (.) in Open File window in the lower right corner, then select Waveform.vwf file.

11. In Waveform window, select Simulation > Run Functional Simulation to run it.

<img src="./pds/ex10.png" alt="p11" style="width: 70%;"><br>

<img src="./pds/hs08.png" alt="p10" style="width: 80%;"><br>
<br>

### Check Hardware Operation

12. Prepare SACT equipment. Connect USB cable and power cable and press the power switch to supply power to the device.

13. In Quartus software, select Tool > Programmer.

14. Check that USB Blaster is connected in Hardware Setup on Programmer window and press Start button to program, and check the operation of half subtractor on the device.

<br>

15. Operate the button switch and check the result through LED.

|A|B|D|BO|
|:---:|:---:|:---:|:---:|
|SW7|SW6|LED7|LED6|

<img src="./pds/sact-ha.png" alt="sact-ha" style="width: 60%;">

<br>


 









