# TIMING SIMULATION

---

Quartus software, which is currently used to experiment with digital logic circuit, supports the entire process for semiconductor design.

Design/compile/simulation/programming (hardware verification) process can all be done in Quartus software, which all the processes have been done.

In simulation, experiment result based on the logical thinking of the logical circuit was checked through Functional Simulation.

In the case of the asynchronous counter and synchronous counter, since the circuit is simple, there was no difference in hardware, and the simulation was only a functional simulation that followed only logic, so there would have been no difference in the results.

This chapter will explain the differences between asynchronous counter and synchronous counter designed previously using simulation result.

<br>

---
## Practice Objectives

Let's design and experiment with the circuit below.
<br>

<img src="./pds/tm03.png" alt="p03" style="width: 100%;">

<br>

Above is a circuit of asynchronous counter and synchronous counter previously designed.

Counter values of asynchronous counter were output as 111, 110, ..., 001, 000, 111. It is modified to count as 000, 001, 010, .... by adding not gate.

Therefore, output results of synchronous counter above and synchronous counter below are the same, but there are differences in performance due to reasons such as delay time.



### **Design**

1. Prepare project file <a href="./pds/TIMING.zip" download>TIMING.zip</a> for the experiment. 
<br>

2. Move the project compressed file downloaded to d:＼work and unzip it.

3. Run Quartus II and select File > Open Project.

4. Go to d:＼work＼TIMING folder, where the files are unzipped, and open TIMING project.

5. Select File > Open to import TIMING.bdf file. Or double-click TIMING on the left side of the project.

6. Unfinished drawing is shown. Let's complete it with the drawing described before.  


<img src="./pds/tm05.png" alt="p05" style="width: 80%;"><br>

<img src="./pds/tm03.png" alt="p01" style="width: 80%;"><br>

7. Complete the circuit by importing “jkff” symbol and connecting it with wire. 

<img src="./pds/tm06.png" alt="p08" style="width: 100%;"><br>

<br>


### **Compile**


8. Select File > Save and save, and select Processing > Start Compilation to compile.

    Compilation is process to verify that there are no errors in the designed logic circuit and create programming file and simulation file.


<br><br>


### **Simulation**

9. Select File > Open, and change File Type to All Files (.) in Open File window in the lower right corner, then select Waveform.vwf file.

10. In Waveform window, select Simulation > Run Functional Simulation to run it.


<img src="./pds/ex10.png" alt="p11" style="width: 70%;"><br>

<img src="./pds/tm08.png" alt="p10" style="width: 100%;"><br>
<br>

You can see that the result of asynchronous counter, Y[2..0], and the results of synchronous counter, Z[2..0], are the same.

11. In Waveform window, select the Simulation > Run Timing Simulation to run Timing Simulation and check the result as shown below.


<img src="./pds/ex11.png" alt="p11" style="width: 60%;"><br>

<img src="./pds/tm09.png" alt="p10" style="width: 100%;"><br>

Waveform above is different from the previous Function Simulation result.

12. Select the zoom in/out icon as shown below and drag the blue area to enlarge the waveform to check all changes in the 3 bits of output data.


<img src="./pds/tm10.png" alt="p10" style="width: 100%;"><br>

13. If enlarging the waveform, you can see the following information.

- Output(2) of the synchronous counter is output after similar delay time at Rising Edge(1) of CLK.
- In result of asynchronous counter, 
    - Y[0] is output (3) due to the influence of Rising Edge of CLK(1) 
    - Y[1] is output (4) by the value of Y[0]
    - Y[2] is output (5) by the value of Y[1]

    Values of the entire output Y[0], Y[1], Y[2] are output with different delay times.

Note that delay time may cause malfunction when designing more complex logic circuit.

<img src="./pds/tm11.png" alt="p10" style="width: 100%;"><br>


---
## 결론

When the circuit is configured asynchronously, the output result appear at different delay time, which becomes a problem when designing a high-performance system. 

Output result synchronized to the clock enables the system to perform better.

<br>

