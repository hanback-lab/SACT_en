# JK FLIPFLOP
---
## Theory

The following figure is a logic circuit representing JK flip-flop with clock input.

<br>
<img src="./pds/jk01.png" alt="p01" style="width: 40%;"><br>
<br>

JK flip-flop controls the same state as SR flip-flop except that it does not have not clear output state under the condition J=K=1. 

Under J=K=1, flip-flop always inverts the output value for the clock signal. In other words, the inverted value of the previously output value is output. This is called toggle mode of the flip-flop.

The table below shows the operating state of JK flip-flop.


<br>

|J|K|CLK|Q|
|:---:|:---:|:---:|:---:|
|0|0|clock|Q0 (previous value)|
|0|1|clock|1|
|1|0|clock|0|
|1|1|clock|/Q0 (toggle previous value)|


<br>

The figure below shows the output result when an arbitrary signal is input to JK flip-flop.

<br>
<img src="./pds/jk02.png" alt="p02" style="width: 60%;"><br>
<br>


---
## **Practice Objective **

Let's design and experiment with the circuit below.

<br>

<img src="./pds/jk03.png" alt="p03" style="width: 80%;">


<br>

Operational truth table of this circuit is as below.

|J|K|CLK|Q|
|:---:|:---:|:---:|:---:|
|0|0|clock|Q0 (previous value)|
|0|1|clock|1|
|1|0|clock|0|
|1|1|clock|/Q0 (toggle previous value)|


<br>

Devices connected to check in SACT equipment are as below.

|J|K|CP|Q|
|:---:|:---:|:---:|:---:|
|SW7|SW6|SW5|LED7|


<br>
<img src="./pds/sact-jk.png" alt="sact-jk" style="width: 60%;">

<br>



### **Design**

1. Prepare project file <a href="./pds/JK_FF.zip" download>JK_FF.zip</a>for the experiment.   
<br>

2. Move the project compressed file downloaded to d:＼work and unzip it.

3. Run Quartus II and select File > Open Project.

4. Go to d:＼work＼JK_FF folder, where the files are unzipped, and open JK_FF project.

5. Select File > Open to import JK_FF.bdf file. Or double-click JK_FF on the left side of the project.

6. Unfinished drawing is shown. Let's complete it with the drawing described before.  
 

<img src="./pds/jk05.png" alt="p05" style="width: 80%;"><br>

<img src="./pds/jk03.png" alt="p01" style="width: 80%;"><br>

7. Complete the circuit by importing “jkff” symbol and connecting it with wire.

<img src="./pds/jk06.png" alt="p08" style="width: 80%;"><br>

<br>


### **Compile**


8. Select File > Save and save, and select Processing > Start Compilation to compile.

    Compilation is process to verify that there are no errors in the designed logic circuit and create programming file and simulation file.


<br><br>


### **Simulation**

9. Select File > Open, and change File Type to All Files (.) in Open File window in the lower right corner, then select Waveform.vwf file.

10. In Waveform window, select Simulation > Run Functional Simulation to run it.


<img src="./pds/ex10.png" alt="p11" style="width: 70%;"><br>

<img src="./pds/jk08.png" alt="p10" style="width: 80%;"><br>
<br>

### **Check Hardware Operation**

11. Prepare SACT equipment. Connect USB cable and power cable and press the power switch to supply power to the device.

12. In Quartus software, select Tool > Programmer.

13. Check that USB Blaster is connected in Hardware Setup on Programmer window. Press Start button to program to check the operation on the device.

14. Operate the button switch and check output result on LED.

Devices connected to check in SACT equipment are as below.

|J|K|CP|Q|
|:---:|:---:|:---:|:---:|
|SW7|SW6|SW5|LED7|


<br>
<img src="./pds/sact-jk.png" alt="sact-jk" style="width: 60%;">


<br>

